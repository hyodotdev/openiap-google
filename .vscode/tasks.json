{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "ðŸš€ Run Example App",
            "type": "shell",
            "command": "sh",
            "args": ["-c", "./gradlew :Example:installDebug && adb shell am start -n dev.hyo.martie/.MainActivity"],
            "group": {
                "kind": "test",
                "isDefault": true
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "problemMatcher": []
        },
        {
            "label": "Build Example Debug APK",
            "type": "shell",
            "command": "./gradlew",
            "args": [":Example:assembleDebug"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": []
        },
        {
            "label": "Install Example App",
            "type": "shell",
            "command": "./gradlew",
            "args": [":Example:installDebug"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "dependsOn": "Build Example Debug APK",
            "problemMatcher": []
        },
        {
            "label": "Install Example App with Debug",
            "type": "shell",
            "command": "./gradlew",
            "args": [":Example:installDebug", "-Pandroid.testInstrumentationRunner.arguments.debug=true"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "dependsOn": "Build Example Debug APK",
            "problemMatcher": []
        },
        {
            "label": "Build Library",
            "type": "shell",
            "command": "./gradlew",
            "args": [":openiap:build"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": []
        },
        {
            "label": "Clean & Build Example",
            "type": "shell",
            "command": "./gradlew",
            "args": ["clean", ":Example:assembleDebug"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": []
        },
        {
            "label": "Run Example App",
            "type": "shell",
            "command": "adb",
            "args": [
                "shell",
                "am",
                "start",
                "-n",
                "dev.hyo.martie/.MainActivity"
            ],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false
            },
            "dependsOn": "Install Example App"
        },
        {
            "label": "Uninstall Example App",
            "type": "shell", 
            "command": "adb",
            "args": ["uninstall", "dev.hyo.martie"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared"
            }
        },
        {
            "label": "List Connected Devices",
            "type": "shell",
            "command": "adb",
            "args": ["devices"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared"
            }
        },
        {
            "label": "View Logcat",
            "type": "shell",
            "command": "adb",
            "args": [
                "logcat",
                "-s",
                "OpenIAP:V",
                "MainActivity:V",
                "System.err:V"
            ],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "dedicated",
                "clear": true
            },
            "isBackground": true
        },
        {
            "label": "Clear Logcat",
            "type": "shell",
            "command": "adb",
            "args": ["logcat", "-c"],
            "group": "test",
            "presentation": {
                "echo": false,
                "reveal": "silent"
            }
        },
        {
            "label": "Build Release AAR",
            "type": "shell",
            "command": "./gradlew",
            "args": [":openiap:assembleRelease"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared"
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "problemMatcher": []
        },
        {
            "label": "Publish to Maven Local",
            "type": "shell",
            "command": "./gradlew",
            "args": [":openiap:publishToMavenLocal"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared"
            },
            "options": {
                "cwd": "${workspaceFolder}"
            },
            "dependsOn": "Build Library",
            "problemMatcher": []
        },
        {
            "label": "ðŸŽ¯ Open in Android Studio",
            "type": "shell",
            "command": "./open-android-studio.sh",
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared"
            },
            "options": {
                "cwd": "${workspaceFolder}"
            }
        }
    ]
}